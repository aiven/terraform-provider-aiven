---
# generated by https://github.com/hashicorp/terraform-plugin-docs
page_title: "aiven_cmk Resource - terraform-provider-aiven"
subcategory: ""
description: |-
  Creates and manages customer managed keys https://aiven.io/docs/platform/howto/bring-your-own-key (CMKs) for encrypting service data.
  This resource is in the beta stage and may change without notice. Set
  the PROVIDER_AIVEN_ENABLE_BETA environment variable to use the resource.
---

# aiven_cmk (Resource)

Creates and manages [customer managed keys](https://aiven.io/docs/platform/howto/bring-your-own-key) (CMKs) for encrypting service data.

**This resource is in the beta stage and may change without notice.** Set
the `PROVIDER_AIVEN_ENABLE_BETA` environment variable to use the resource.

## Example Usage

```terraform
resource "aiven_cmk" "example_user" {
  project = var.aiven_project_name
  resource = var.cmk_resource
  cmk_provider = "gcp"
  default_cmk = false
}
```

<!-- schema generated by tfplugindocs -->
## Schema

### Required

- `cmk_provider` (String) CMK provider. The possible values are `aws`, `gcp` and `oci`. Changing this property forces recreation of the resource.
- `default_cmk` (Boolean) Mark the created CMK as default for all newly created services.
- `project` (String) Project name. Changing this property forces recreation of the resource.
- `resource` (String) Resource name. Maximum length: `512`. Changing this property forces recreation of the resource.

### Optional

- `timeouts` (Block, Optional) (see [below for nested schema](#nestedblock--timeouts))

### Read-Only

- `cmk_id` (String) Customer Managed Key identifier (CMK ID).
- `created_at` (String) Created At.
- `id` (String) Resource ID composed as: `project/cmk_id`.
- `status` (String) Status. The possible values are `current`, `deleted` and `old`.
- `updated_at` (String) Updated At.

<a id="nestedblock--timeouts"></a>
### Nested Schema for `timeouts`

Optional:

- `create` (String) A string that can be [parsed as a duration](https://pkg.go.dev/time#ParseDuration) consisting of numbers and unit suffixes, such as "30s" or "2h45m". Valid time units are "s" (seconds), "m" (minutes), "h" (hours).
- `delete` (String) A string that can be [parsed as a duration](https://pkg.go.dev/time#ParseDuration) consisting of numbers and unit suffixes, such as "30s" or "2h45m". Valid time units are "s" (seconds), "m" (minutes), "h" (hours). Setting a timeout for a Delete operation is only applicable if changes are saved into state before the destroy operation occurs.
- `read` (String) A string that can be [parsed as a duration](https://pkg.go.dev/time#ParseDuration) consisting of numbers and unit suffixes, such as "30s" or "2h45m". Valid time units are "s" (seconds), "m" (minutes), "h" (hours). Read operations occur during any refresh or planning operation when refresh is enabled.
- `update` (String) A string that can be [parsed as a duration](https://pkg.go.dev/time#ParseDuration) consisting of numbers and unit suffixes, such as "30s" or "2h45m". Valid time units are "s" (seconds), "m" (minutes), "h" (hours).

## Import

Import is supported using the following syntax:

```shell
terraform import aiven_cmk.example PROJECT/CMK_ID
```
