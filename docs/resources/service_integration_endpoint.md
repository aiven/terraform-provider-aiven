---
# generated by https://github.com/hashicorp/terraform-plugin-docs
page_title: "aiven_service_integration_endpoint Resource - terraform-provider-aiven"
subcategory: ""
description: |-
  Creates and manages an integration endpoint.
  Integration endpoints let you send data like metrics and logs from Aiven services to external systems. The autoscaler endpoint lets you automatically scale the disk space on your services.
  After creating an endpoint, use the service integration resource https://registry.terraform.io/providers/aiven/aiven/latest/docs/resources/service_integration to connect it to a service.
---

# aiven_service_integration_endpoint (Resource)

Creates and manages an integration endpoint.

Integration endpoints let you send data like metrics and logs from Aiven services to external systems. The `autoscaler` endpoint lets you automatically scale the disk space on your services.

After creating an endpoint, use the [service integration resource](https://registry.terraform.io/providers/aiven/aiven/latest/docs/resources/service_integration) to connect it to a service.

## Example Usage

```terraform
# Datadog endpoint
resource "aiven_service_integration_endpoint" "example_endpoint" {
  project       = data.aiven_project.example_project.project
  endpoint_name = "Datadog endpoint"
  endpoint_type = "datadog"
}

# Disk autoscaler endpoint
resource "aiven_service_integration_endpoint" "autoscaler_endpoint" {
  project       = data.aiven_project.example_project.project
  endpoint_name = "disk-autoscaler-200GiB"
  endpoint_type = "autoscaler"

  autoscaler_user_config {
    autoscaling {
      cap_gb = 200
      type   = "autoscale_disk"
    }
  }
}
```

<!-- schema generated by tfplugindocs -->
## Schema

### Required

- `endpoint_name` (String) Name of the service integration endpoint.
- `endpoint_type` (String) The type of service integration endpoint. The possible values are `autoscaler`, `datadog`, `external_aws_cloudwatch_logs`, `external_aws_cloudwatch_metrics`, `external_aws_s3`, `external_azure_blob_storage`, `external_clickhouse`, `external_elasticsearch_logs`, `external_google_cloud_bigquery`, `external_google_cloud_logging`, `external_kafka`, `external_mysql`, `external_opensearch_logs`, `external_postgresql`, `external_prometheus`, `external_redis`, `external_schema_registry`, `external_sumologic_logs`, `jolokia`, `prometheus` and `rsyslog`.
- `project` (String) Project the service integration endpoint is in.

### Optional

- `autoscaler_user_config` (Block List, Max: 1) Autoscaler user configurable settings. **Warning:** There's no way to reset advanced configuration options to default. Options that you add cannot be removed later (see [below for nested schema](#nestedblock--autoscaler_user_config))
- `datadog_user_config` (Block List, Max: 1) Datadog user configurable settings. **Warning:** There's no way to reset advanced configuration options to default. Options that you add cannot be removed later (see [below for nested schema](#nestedblock--datadog_user_config))
- `external_aws_cloudwatch_logs_user_config` (Block List, Max: 1) ExternalAwsCloudwatchLogs user configurable settings. **Warning:** There's no way to reset advanced configuration options to default. Options that you add cannot be removed later (see [below for nested schema](#nestedblock--external_aws_cloudwatch_logs_user_config))
- `external_aws_cloudwatch_metrics_user_config` (Block List, Max: 1) ExternalAwsCloudwatchMetrics user configurable settings. **Warning:** There's no way to reset advanced configuration options to default. Options that you add cannot be removed later (see [below for nested schema](#nestedblock--external_aws_cloudwatch_metrics_user_config))
- `external_aws_s3_user_config` (Block List, Max: 1) ExternalAwsS3 user configurable settings. **Warning:** There's no way to reset advanced configuration options to default. Options that you add cannot be removed later (see [below for nested schema](#nestedblock--external_aws_s3_user_config))
- `external_azure_blob_storage_user_config` (Block List, Max: 1) ExternalAzureBlobStorage user configurable settings. **Warning:** There's no way to reset advanced configuration options to default. Options that you add cannot be removed later (see [below for nested schema](#nestedblock--external_azure_blob_storage_user_config))
- `external_clickhouse_user_config` (Block List, Max: 1) ExternalClickhouse user configurable settings. **Warning:** There's no way to reset advanced configuration options to default. Options that you add cannot be removed later (see [below for nested schema](#nestedblock--external_clickhouse_user_config))
- `external_elasticsearch_logs_user_config` (Block List, Max: 1) ExternalElasticsearchLogs user configurable settings. **Warning:** There's no way to reset advanced configuration options to default. Options that you add cannot be removed later (see [below for nested schema](#nestedblock--external_elasticsearch_logs_user_config))
- `external_google_cloud_bigquery` (Block List, Max: 1) ExternalGoogleCloudBigquery user configurable settings. **Warning:** There's no way to reset advanced configuration options to default. Options that you add cannot be removed later (see [below for nested schema](#nestedblock--external_google_cloud_bigquery))
- `external_google_cloud_logging_user_config` (Block List, Max: 1) ExternalGoogleCloudLogging user configurable settings. **Warning:** There's no way to reset advanced configuration options to default. Options that you add cannot be removed later (see [below for nested schema](#nestedblock--external_google_cloud_logging_user_config))
- `external_kafka_user_config` (Block List, Max: 1) ExternalKafka user configurable settings. **Warning:** There's no way to reset advanced configuration options to default. Options that you add cannot be removed later (see [below for nested schema](#nestedblock--external_kafka_user_config))
- `external_mysql_user_config` (Block List, Max: 1) ExternalMysql user configurable settings. **Warning:** There's no way to reset advanced configuration options to default. Options that you add cannot be removed later (see [below for nested schema](#nestedblock--external_mysql_user_config))
- `external_opensearch_logs_user_config` (Block List, Max: 1) ExternalOpensearchLogs user configurable settings. **Warning:** There's no way to reset advanced configuration options to default. Options that you add cannot be removed later (see [below for nested schema](#nestedblock--external_opensearch_logs_user_config))
- `external_postgresql` (Block List, Max: 1) ExternalPostgresql user configurable settings. **Warning:** There's no way to reset advanced configuration options to default. Options that you add cannot be removed later (see [below for nested schema](#nestedblock--external_postgresql))
- `external_prometheus_user_config` (Block List, Max: 1) ExternalPrometheus user configurable settings. **Warning:** There's no way to reset advanced configuration options to default. Options that you add cannot be removed later (see [below for nested schema](#nestedblock--external_prometheus_user_config))
- `external_schema_registry_user_config` (Block List, Max: 1) ExternalSchemaRegistry user configurable settings. **Warning:** There's no way to reset advanced configuration options to default. Options that you add cannot be removed later (see [below for nested schema](#nestedblock--external_schema_registry_user_config))
- `jolokia_user_config` (Block List, Max: 1) Jolokia user configurable settings. **Warning:** There's no way to reset advanced configuration options to default. Options that you add cannot be removed later (see [below for nested schema](#nestedblock--jolokia_user_config))
- `prometheus_user_config` (Block List, Max: 1) Prometheus user configurable settings. **Warning:** There's no way to reset advanced configuration options to default. Options that you add cannot be removed later (see [below for nested schema](#nestedblock--prometheus_user_config))
- `rsyslog_user_config` (Block List, Max: 1) Rsyslog user configurable settings. **Warning:** There's no way to reset advanced configuration options to default. Options that you add cannot be removed later (see [below for nested schema](#nestedblock--rsyslog_user_config))
- `timeouts` (Block, Optional) (see [below for nested schema](#nestedblock--timeouts))

### Read-Only

- `endpoint_config` (Map of String) Backend configuration for the endpoint.
- `id` (String) The ID of this resource.

<a id="nestedblock--autoscaler_user_config"></a>
### Nested Schema for `autoscaler_user_config`

Required:

- `autoscaling` (Block List, Min: 1, Max: 64) Configure autoscaling thresholds for a service (see [below for nested schema](#nestedblock--autoscaler_user_config--autoscaling))

<a id="nestedblock--autoscaler_user_config--autoscaling"></a>
### Nested Schema for `autoscaler_user_config.autoscaling`

Required:

- `cap_gb` (Number) The maximum total disk size (in gb) to allow autoscaler to scale up to. Example: `300`.
- `type` (String) Enum: `autoscale_disk`. Type of autoscale event.



<a id="nestedblock--datadog_user_config"></a>
### Nested Schema for `datadog_user_config`

Required:

- `datadog_api_key` (String, Sensitive) Datadog API key. Example: `848f30907c15c55d601fe45487cce9b6`.

Optional:

- `datadog_tags` (Block List, Max: 32) Custom tags provided by user (see [below for nested schema](#nestedblock--datadog_user_config--datadog_tags))
- `disable_consumer_stats` (Boolean) Disable consumer group metrics.
- `extra_tags_prefix` (String) Extra tags prefix. Defaults to aiven.
- `kafka_consumer_check_instances` (Number) Number of separate instances to fetch kafka consumer statistics with. Example: `8`.
- `kafka_consumer_stats_timeout` (Number) Number of seconds that datadog will wait to get consumer statistics from brokers. Example: `60`.
- `max_partition_contexts` (Number) Maximum number of partition contexts to send. Example: `32000`.
- `site` (String) Enum: `ap1.datadoghq.com`, `datadoghq.com`, `datadoghq.eu`, `ddog-gov.com`, `us3.datadoghq.com`, `us5.datadoghq.com`. Datadog intake site. Defaults to datadoghq.com.

<a id="nestedblock--datadog_user_config--datadog_tags"></a>
### Nested Schema for `datadog_user_config.datadog_tags`

Required:

- `tag` (String) Tag format and usage are described here: https://docs.datadoghq.com/getting_started/tagging. Tags with prefix `aiven-` are reserved for Aiven. Example: `replica:primary`.

Optional:

- `comment` (String) Optional tag explanation. Example: `Used to tag primary replica metrics`.



<a id="nestedblock--external_aws_cloudwatch_logs_user_config"></a>
### Nested Schema for `external_aws_cloudwatch_logs_user_config`

Required:

- `access_key` (String) AWS access key. Required permissions are logs:CreateLogGroup, logs:CreateLogStream, logs:PutLogEvents and logs:DescribeLogStreams. Example: `AAAAAAAAAAAAAAAAAAAA`.
- `region` (String) AWS region. Example: `us-east-1`.
- `secret_key` (String, Sensitive) AWS secret key. Example: `AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA`.

Optional:

- `log_group_name` (String) AWS CloudWatch log group name. Example: `my-log-group`.


<a id="nestedblock--external_aws_cloudwatch_metrics_user_config"></a>
### Nested Schema for `external_aws_cloudwatch_metrics_user_config`

Required:

- `access_key` (String) AWS access key. Required permissions are cloudwatch:PutMetricData. Example: `AAAAAAAAAAAAAAAAAAAA`.
- `namespace` (String) AWS CloudWatch Metrics Namespace. Example: `my-metrics-namespace`.
- `region` (String) AWS region. Example: `us-east-1`.
- `secret_key` (String, Sensitive) AWS secret key. Example: `AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA`.


<a id="nestedblock--external_aws_s3_user_config"></a>
### Nested Schema for `external_aws_s3_user_config`

Required:

- `access_key_id` (String) Access Key Id. Example: `AAAAAAAAAAAAAAAAAAA`.
- `secret_access_key` (String, Sensitive) Secret Access Key. Example: `AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA`.
- `url` (String) S3-compatible bucket URL. Example: `https://mybucket.s3-myregion.amazonaws.com/mydataset/`.


<a id="nestedblock--external_azure_blob_storage_user_config"></a>
### Nested Schema for `external_azure_blob_storage_user_config`

Required:

- `connection_string` (String, Sensitive) Azure Blob Storage connection string. Example: `AccountName=IDENT;AccountKey=SECRET`.
- `container` (String) Container. Example: `container-dev`.

Optional:

- `blob_path` (String) Blob path. Example: `path/to/blob/file.csv`.


<a id="nestedblock--external_clickhouse_user_config"></a>
### Nested Schema for `external_clickhouse_user_config`

Required:

- `host` (String) Hostname or IP address of the server. Example: `my.server.com`.
- `password` (String, Sensitive) Password. Example: `jjKk45Nnd`.
- `port` (Number) Secure TCP server port. Example: `9440`.
- `username` (String) User name. Example: `default`.


<a id="nestedblock--external_elasticsearch_logs_user_config"></a>
### Nested Schema for `external_elasticsearch_logs_user_config`

Required:

- `index_prefix` (String) Elasticsearch index prefix. Default: `logs`.
- `url` (String) Elasticsearch connection URL. Example: `https://user:passwd@logs.example.com/`.

Optional:

- `ca` (String) PEM encoded CA certificate. Example: `-----BEGIN CERTIFICATE-----
...
-----END CERTIFICATE-----
`.
- `index_days_max` (Number) Maximum number of days of logs to keep. Default: `3`.
- `timeout` (Number) Elasticsearch request timeout limit. Default: `10.0`.


<a id="nestedblock--external_google_cloud_bigquery"></a>
### Nested Schema for `external_google_cloud_bigquery`

Required:

- `project_id` (String) GCP project id. Example: `snappy-photon-12345`.
- `service_account_credentials` (String, Sensitive) This is a JSON object with the fields documented in https://cloud.google.com/iam/docs/creating-managing-service-account-keys. Example: `{"type": "service_account", ...`.


<a id="nestedblock--external_google_cloud_logging_user_config"></a>
### Nested Schema for `external_google_cloud_logging_user_config`

Required:

- `log_id` (String) Google Cloud Logging log id. Example: `syslog`.
- `project_id` (String) GCP project id. Example: `snappy-photon-12345`.
- `service_account_credentials` (String, Sensitive) This is a JSON object with the fields documented in https://cloud.google.com/iam/docs/creating-managing-service-account-keys. Example: `{"type": "service_account", ...`.


<a id="nestedblock--external_kafka_user_config"></a>
### Nested Schema for `external_kafka_user_config`

Required:

- `bootstrap_servers` (String) Bootstrap servers. Example: `10.0.0.1:9092,10.0.0.2:9092`.
- `security_protocol` (String) Enum: `PLAINTEXT`, `SASL_PLAINTEXT`, `SASL_SSL`, `SSL`. Security protocol.

Optional:

- `sasl_mechanism` (String) Enum: `PLAIN`, `SCRAM-SHA-256`, `SCRAM-SHA-512`. SASL mechanism used for connections to the Kafka server.
- `sasl_plain_password` (String, Sensitive) Password for SASL PLAIN mechanism in the Kafka server. Example: `admin`.
- `sasl_plain_username` (String) Username for SASL PLAIN mechanism in the Kafka server. Example: `admin`.
- `ssl_ca_cert` (String) PEM-encoded CA certificate. Example: `-----BEGIN CERTIFICATE-----
...
-----END CERTIFICATE-----
`.
- `ssl_client_cert` (String) PEM-encoded client certificate. Example: `-----BEGIN CERTIFICATE-----
...
-----END CERTIFICATE-----
`.
- `ssl_client_key` (String, Sensitive) PEM-encoded client key. Example: `-----BEGIN PRIVATE KEY-----
...
-----END PRIVATE KEY-----
`.
- `ssl_endpoint_identification_algorithm` (String) Enum: `https`. The endpoint identification algorithm to validate server hostname using server certificate.


<a id="nestedblock--external_mysql_user_config"></a>
### Nested Schema for `external_mysql_user_config`

Required:

- `host` (String) Hostname or IP address of the server. Example: `my.server.com`.
- `password` (String, Sensitive) Password. Example: `jjKk45Nnd`.
- `port` (Number) Port number of the server. Example: `5432`.
- `username` (String) User name. Example: `myname`.

Optional:

- `ssl_mode` (String) Enum: `verify-full`. SSL Mode. Default: `verify-full`.
- `ssl_root_cert` (String) SSL Root Cert. Example: `-----BEGIN CERTIFICATE-----
...
-----END CERTIFICATE-----
`.


<a id="nestedblock--external_opensearch_logs_user_config"></a>
### Nested Schema for `external_opensearch_logs_user_config`

Required:

- `index_prefix` (String) OpenSearch index prefix. Default: `logs`.
- `url` (String) OpenSearch connection URL. Example: `https://user:passwd@logs.example.com/`.

Optional:

- `ca` (String) PEM encoded CA certificate. Example: `-----BEGIN CERTIFICATE-----
...
-----END CERTIFICATE-----
`.
- `index_days_max` (Number) Maximum number of days of logs to keep. Default: `3`.
- `timeout` (Number) OpenSearch request timeout limit. Default: `10.0`.


<a id="nestedblock--external_postgresql"></a>
### Nested Schema for `external_postgresql`

Required:

- `host` (String) Hostname or IP address of the server. Example: `my.server.com`.
- `port` (Number) Port number of the server. Example: `5432`.
- `username` (String) User name. Example: `myname`.

Optional:

- `default_database` (String) Default database. Example: `testdb`.
- `password` (String, Sensitive) Password. Example: `jjKk45Nnd`.
- `ssl_client_certificate` (String) Client certificate. Example: `-----BEGIN CERTIFICATE-----
...
-----END CERTIFICATE-----
`.
- `ssl_client_key` (String, Sensitive) Client key. Example: `-----BEGIN PRIVATE KEY-----
...
-----END PRIVATE KEY-----`.
- `ssl_mode` (String) Enum: `allow`, `disable`, `prefer`, `require`, `verify-ca`, `verify-full`. SSL mode to use for the connection.  Please note that Aiven requires TLS for all connections to external PostgreSQL services. Default: `verify-full`.
- `ssl_root_cert` (String) SSL Root Cert. Example: `-----BEGIN CERTIFICATE-----
...
-----END CERTIFICATE-----
`.


<a id="nestedblock--external_prometheus_user_config"></a>
### Nested Schema for `external_prometheus_user_config`

Optional:

- `basic_auth_password` (String, Sensitive) Prometheus basic authentication password. Example: `fhyFNBjj3R`.
- `basic_auth_username` (String) Prometheus basic authentication username. Example: `prom4851`.
- `service_uri` (String) Prometheus enabled write endpoint. Example: `https://write.example.com/`.


<a id="nestedblock--external_schema_registry_user_config"></a>
### Nested Schema for `external_schema_registry_user_config`

Required:

- `authentication` (String) Enum: `basic`, `none`. Authentication method.
- `url` (String) Schema Registry URL. Example: `https://schema-registry.kafka.company.com:28419`.

Optional:

- `basic_auth_password` (String, Sensitive) Basic authentication password. Example: `Zm9vYg==`.
- `basic_auth_username` (String) Basic authentication user name. Example: `avnadmin`.


<a id="nestedblock--jolokia_user_config"></a>
### Nested Schema for `jolokia_user_config`

Optional:

- `basic_auth_password` (String, Sensitive) Jolokia basic authentication password. Example: `yhfBNFii4C`.
- `basic_auth_username` (String) Jolokia basic authentication username. Example: `jol48k51`.


<a id="nestedblock--prometheus_user_config"></a>
### Nested Schema for `prometheus_user_config`

Optional:

- `basic_auth_password` (String, Sensitive) Prometheus basic authentication password. Example: `fhyFNBjj3R`.
- `basic_auth_username` (String) Prometheus basic authentication username. Example: `prom4851`.


<a id="nestedblock--rsyslog_user_config"></a>
### Nested Schema for `rsyslog_user_config`

Required:

- `format` (String) Enum: `custom`, `rfc3164`, `rfc5424`. Message format. Default: `rfc5424`.
- `port` (Number) Rsyslog server port. Default: `514`.
- `server` (String) Rsyslog server IP address or hostname. Example: `logs.example.com`.
- `tls` (Boolean) Require TLS. Default: `true`.

Optional:

- `ca` (String) PEM encoded CA certificate. Example: `-----BEGIN CERTIFICATE-----
...
-----END CERTIFICATE-----
`.
- `cert` (String) PEM encoded client certificate. Example: `-----BEGIN CERTIFICATE-----
...
-----END CERTIFICATE-----
`.
- `key` (String, Sensitive) PEM encoded client key. Example: `-----BEGIN PRIVATE KEY-----
...
-----END PRIVATE KEY-----
`.
- `logline` (String) Custom syslog message format. Example: `<%pri%>%timestamp:::date-rfc3339% %HOSTNAME% %app-name% %msg%`.
- `max_message_size` (Number) Rsyslog max message size. Default: `8192`.
- `sd` (String) Structured data block for log message. Example: `TOKEN tag="LiteralValue"`.


<a id="nestedblock--timeouts"></a>
### Nested Schema for `timeouts`

Optional:

- `create` (String)
- `default` (String)
- `delete` (String)
- `read` (String)
- `update` (String)

## Import

Import is supported using the following syntax:

```shell
terraform import aiven_service_integration_endpoint.example_endpoint PROJECT/ID
```
