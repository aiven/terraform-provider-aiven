---
# generated by https://github.com/hashicorp/terraform-plugin-docs
page_title: "aiven_pg_user Resource - terraform-provider-aiven"
subcategory: ""
description: |-
  Creates and manages an Aiven for PostgreSQL® service user. If this resource is missing (e.g., after a service power off), it will be removed from the state and a new create plan will be generated.
---

# aiven_pg_user (Resource)

Creates and manages an Aiven for PostgreSQL® service user. If this resource is missing (e.g., after a service power off), it will be removed from the state and a new create plan will be generated.

## Example Usage

```terraform
resource "aiven_pg_user" "example_user" {
  service_name = aiven_pg.example_postgres.service_name
  project      = data.aiven_project.example_project.project
  username     = "example-service-user"
  password     = var.service_user_password
}

# Each service has a default admin user with the username avnadmin.
resource "aiven_pg_user" "admin_user" {
  service_name = aiven_pg.example_postgres.service_name
  project      = data.aiven_project.example_project.project
  username     = "avnadmin"
  password     = var.service_user_password
  # The pg_allow_replication attribute is required for this user and must be true.
  pg_allow_replication = true
}
```

<!-- schema generated by tfplugindocs -->
## Schema

### Required

- `project` (String) Project name. Changing this property forces recreation of the resource.
- `service_name` (String) The name of the service. Changing this property forces recreation of the resource.
- `username` (String) The name of the service user for this service. Maximum length: `64`. Changing this property forces recreation of the resource.

### Optional

> **NOTE**: [Write-only arguments](https://developer.hashicorp.com/terraform/language/resources/ephemeral#write-only-arguments) are supported in Terraform 1.11 and later.

- `password` (String, Sensitive) The password of the service user (auto-generated if not provided). The field conflicts with `password_wo`. Value must be between `8` and `256`.
- `password_wo` (String, Sensitive, [Write-only](https://developer.hashicorp.com/terraform/language/resources/ephemeral#write-only-arguments)) The password of the service user (write-only, not stored in state). The field is required with `password_wo_version`. The field conflicts with `password`. Value must be between `8` and `256`.
- `password_wo_version` (Number) Version number for `password_wo`. Increment this to rotate the password. The field is required with `password_wo`. Minimum value: `1`.
- `pg_allow_replication` (Boolean) Allows replication. For the default avnadmin user this attribute is required and is always `true`.
- `timeouts` (Block, Optional) (see [below for nested schema](#nestedblock--timeouts))

### Read-Only

- `access_cert` (String, Sensitive) Access certificate for TLS client authentication.
- `access_key` (String, Sensitive) Access key for TLS client authentication.
- `id` (String) Resource ID composed as: `project/service_name/username`.
- `type` (String) The service user account type, either primary or regular.

<a id="nestedblock--timeouts"></a>
### Nested Schema for `timeouts`

Optional:

- `create` (String) A string that can be [parsed as a duration](https://pkg.go.dev/time#ParseDuration) consisting of numbers and unit suffixes, such as "30s" or "2h45m". Valid time units are "s" (seconds), "m" (minutes), "h" (hours).
- `default` (String, Deprecated) Timeout for all operations. Deprecated, use operation-specific timeouts instead.
- `delete` (String) A string that can be [parsed as a duration](https://pkg.go.dev/time#ParseDuration) consisting of numbers and unit suffixes, such as "30s" or "2h45m". Valid time units are "s" (seconds), "m" (minutes), "h" (hours). Setting a timeout for a Delete operation is only applicable if changes are saved into state before the destroy operation occurs.
- `read` (String) A string that can be [parsed as a duration](https://pkg.go.dev/time#ParseDuration) consisting of numbers and unit suffixes, such as "30s" or "2h45m". Valid time units are "s" (seconds), "m" (minutes), "h" (hours). Read operations occur during any refresh or planning operation when refresh is enabled.
- `update` (String) A string that can be [parsed as a duration](https://pkg.go.dev/time#ParseDuration) consisting of numbers and unit suffixes, such as "30s" or "2h45m". Valid time units are "s" (seconds), "m" (minutes), "h" (hours).

## Import

Import is supported using the following syntax:

```shell
terraform import aiven_pg_user.example PROJECT/SERVICE_NAME/USERNAME
```
