// Copyright (c) 2026 Aiven, Helsinki, Finland. https://aiven.io/
// Code generated by user config generator. DO NOT EDIT.

package planlist

import (
	"context"

	"github.com/hashicorp/terraform-plugin-framework-timeouts/datasource/timeouts"
	"github.com/hashicorp/terraform-plugin-framework/datasource/schema"
	"github.com/hashicorp/terraform-plugin-framework/types"
)

// datasourceModel with specific datasource timeouts
type datasourceModel struct {
	tfModel
	Timeouts timeouts.Value `tfsdk:"timeouts"`
}

func (tf *datasourceModel) SharedModel() *tfModel {
	return &tf.tfModel
}

func (tf *datasourceModel) TimeoutsObject() types.Object {
	return tf.Timeouts.Object
}

/*
datasourceSchema:

	data "aiven_service_plan_list" "example" {
	  project      = "foo"
	  service_type = "foo"

	  // COMPUTED FIELDS
	  service_plans {
	    max_memory_percent = 42
	    node_count         = 42
	    regions = {
	      foo = {
	        disk_space_cap_mb           = 42
	        disk_space_gb_price_usd     = "foo"
	        disk_space_mb               = 42
	        disk_space_step_mb          = 42
	        node_cpu_count              = 42
	        node_memory_mb              = 42
	        object_storage_gb_price_usd = "foo"
	        price_usd                   = "foo"
	      }
	    }
	    service_plan = "foo"
	    service_type = "foo"
	    shard_count  = 42
	  }
	}
*/
func datasourceSchema(ctx context.Context) schema.Schema {
	return schema.Schema{
		Attributes: map[string]schema.Attribute{
			"id": schema.StringAttribute{
				Computed:            true,
				MarkdownDescription: "Resource ID composed as: `project/service_type`.",
			},
			"project": schema.StringAttribute{
				MarkdownDescription: "Project name.",
				Required:            true,
			},
			"service_type": schema.StringAttribute{
				MarkdownDescription: "Service type.",
				Required:            true,
			},
		},
		Blocks: map[string]schema.Block{
			"service_plans": schema.ListNestedBlock{
				MarkdownDescription: "List of plans available for this type of service.",
				NestedObject: schema.NestedBlockObject{Attributes: map[string]schema.Attribute{
					"max_memory_percent": schema.Int64Attribute{
						Computed:            true,
						MarkdownDescription: "Maximum amount of system memory as a percentage (0-100) the service can actually use after taking into account management overhead. This is relevant for memory bound services for which some service management operations require allocating proportional amount of memory on top the basic load.",
					},
					"node_count": schema.Int64Attribute{
						Computed:            true,
						MarkdownDescription: "Number of nodes in this service plan.",
					},
					"regions": schema.MapNestedAttribute{
						Computed:            true,
						MarkdownDescription: "Service plan hourly price per cloud region.",
						NestedObject: schema.NestedAttributeObject{Attributes: map[string]schema.Attribute{
							"disk_space_cap_mb": schema.Int64Attribute{
								Computed:            true,
								MarkdownDescription: "Maximum amount of disk space possible for the plan in the given region.",
							},
							"disk_space_gb_price_usd": schema.StringAttribute{
								Computed:            true,
								MarkdownDescription: "Hourly additional disk space price per GiB in this region.",
							},
							"disk_space_mb": schema.Int64Attribute{
								Computed:            true,
								MarkdownDescription: "Combined amount of service disk space of all service nodes in megabytes.",
							},
							"disk_space_step_mb": schema.Int64Attribute{
								Computed:            true,
								MarkdownDescription: "Disk space change step size.",
							},
							"node_cpu_count": schema.Int64Attribute{
								Computed:            true,
								MarkdownDescription: "Number of CPU cores on each service node.",
							},
							"node_memory_mb": schema.Int64Attribute{
								Computed:            true,
								MarkdownDescription: "Amount of memory on each service node in megabytes.",
							},
							"object_storage_gb_price_usd": schema.StringAttribute{
								Computed:            true,
								MarkdownDescription: "Hourly object storage price per GiB in this region.",
							},
							"price_usd": schema.StringAttribute{
								Computed:            true,
								MarkdownDescription: "Hourly service price in this region.",
							},
						}},
					},
					"service_plan": schema.StringAttribute{
						Computed:            true,
						MarkdownDescription: "Subscription plan.",
					},
					"service_type": schema.StringAttribute{
						Computed:            true,
						MarkdownDescription: "Service type code.",
					},
					"shard_count": schema.Int64Attribute{
						Computed:            true,
						MarkdownDescription: "Number of shards in this service plan.",
					},
				}},
			},
			"timeouts": timeouts.Block(ctx),
		},
		MarkdownDescription: "A list of service plans for a given project and service type.",
	}
}
